<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">

<head th:replace="~{fragment/header :: header}">
</head>
<body>
<div th:replace="~{fragment/sidebar :: sidebar}">

</div>

<div class="Acontainer">
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-md-10 col-md-offset-1">
				<h3>个人财务管理系统</h3>
				<br>
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#home">收支详表</a></li>
					<li><a data-toggle="tab" href="#menu1">收入记账</a></li>
					<li><a data-toggle="tab" href="#menu2">支出记账</a></li>
				</ul>

				<!--右边的东西-->
				<div class="tab-content">

					<div id="home" class="tab-pane fade in active">
						<!--<h3>收支概览</h3>-->


						<form class="" action="/deleteRecordOfUser.action" method="post">
							<table class="table">
								<thead>
									<tr>
										<th class="" style="text-align:left;">
											<input type="checkbox" id="chooseAll" onclick="chooseAllOrNot();"> 全选
										</th>
										<th class="">编号</th>
										<th>收支备注</th>
										<th>金额</th>
										<th>收支日期</th>
										<th>收支类型</th>
										<th>操作</th>
									</tr>
								</thead>

								<!-- 表格中的数据 -->
								<tbody id="tableData">
									<tr class="active" th:each="record:${pageList.getDataList()}">
										<td>
											<input type="checkbox" name="inRecords" onclick="deleteJudge();" class="chooseRecord" th:value="${record.getRecordnum()}">
										</td>
										<td th:text="${record.getRecordnum()}"></td>
										<td th:text="${record.getOther()}">2</td>
										<td th:text="${record.getValue()}">3</td>
										<td th:text="${#dates.format( record.getRecordtime().getTime(), 'yyyy-MM-dd') }">4</td>
										<td th:text="${record.getCategory()}">5</td>
										<td>6</td>
									</tr>
								</tbody>
							</table>
                            <div class="form-group">
                                <ul class="pagination">
                                    <li><a href="/dividePage.action?currentPage=1">首页</a></li>
                                    <!-- 上一页 -->
                                    <li th:class="${pageList.getCurrentPage()==1}?'disabled' : ''">
                                        <a th:if="${pageList.getCurrentPage()!=1}" th:href="@{'/dividePage.action?currentPage='+${pageList.getCurrentPage()-1}}" class="page-link">
                                            <span aria-hidden="true">上一页</span>
                                        </a>
										<span aria-hidden="true" th:if="${pageList.getCurrentPage()==1}">上一页</span>
                                    </li>

                                    <div th:if="${(pageList.getTotalPage() le 10) and (pageList.getTotalPage() gt 0)}" th:remove="tag">
                                        <div th:each="pagenum : ${#numbers.sequence(1,pageList.getTotalPage())}" th:remove="tag">
                                            <li th:class="${pageList.getCurrentPage()==pagenum}? 'active' : '' "><a th:href="@{'/dividePage.action?currentPage='+${pagenum}}" th:text="${pagenum}">3</a></li>
                                        </div>
                                    </div>

                                    <!--下一页-->
                                    <li th:class="${pageList.getCurrentPage()==pageList.getTotalPage()}?'disabled' : ''">
                                        <a th:if="${pageList.getCurrentPage()!=pageList.getTotalPage()}" th:href="@{'/dividePage.action?currentPage='+${pageList.getCurrentPage()+1}}" class="page-link">
                                            <span aria-hidden="true">下一页</span>
                                        </a>

										<span th:if="${pageList.getCurrentPage()==pageList.getTotalPage()}" aria-hidden="true">下一页</span>
                                    </li>
                                </ul>
                            </div>

							<div class="form-group">
								<button th:if="${ pageList.getDataList().size() != 0}" disabled="disabled" class="btn btn-danger" type="submit" id="deleteBtn">删除</button>
								<button th:if="${ pageList.getDataList().size() == 0}" class="btn btn-danger" type="submit" disabled="false">删除</button>
								&nbsp;&nbsp;&nbsp;&nbsp;
								<button class="btn btn-primary" type="reset">重置</button>
							</div>
						</form>
					</div>

					<!--收入-->
					<div id="menu1" class="tab-pane fade" >
						<form class="" method="post" action="/addIncomeRecordOfUser.action">
                        <div class="col-md-6">
                            <br/>
                            <div class="input-group input-group-md form-group">
                                <span class="input-group-addon" id="in-value">收入金额</span>
                                <input type="number" class="form-control" name="inValue" placeholder="请在这里填入金额" aria-describedby="sizing-addon1"  step="0.01"  required>
                            </div>
                            <br/>
                            <div class="input-group date form_date col-md-12" data-date-format="yyyy-mm-dd" data-link-field="dtp_input1">
                                <span class="input-group-addon">收入时间</span>
                                <input class="form-control" size="16" type="text" name="inTime" value="" placeholder="请在这里填入时间: 2018-01-04" required>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                            </div>
                            <br/>
							<br/>
							<div class="input-group input-group-md form-group">
								<span class="input-group-addon" id="">收入类型</span>
								<!--<input type="number"  name="inType" class="form-control" aria-describedby="sizing-addon1" placeholder="在这里输入类型">-->
								<select name="inType" class="form-control">
	                                <option value=5>学习</option>
	                                <option value=4>生活</option>
	                                <option value=3>娱乐</option>
	                                <option value=2>网购</option>
	                                <option value=1>电子</option>
    	                        </select>
							</div>
							<br/>
							<div class="input-group input-group-md form-group">
                                <span class="input-group-addon">内容备注</span>
                                <input type="text" class="form-control" aria-describedby="sizing-addon1" placeholder="请在这里填入内容备注（可选）" name="inOther">
                            </div>
                            <br/>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-xs-6 col-md-3 col-md-offset-3">
                                        <button type="submit" class="btn btn-info btn-lg">添加</button>
                                    </div>
                                    <div class="col-xs-6 col-md-3 col-md-offset-1">
                                        <button type="reset" class="btn btn-info btn-lg">重置</button>
                                    </div>
                                </div>
                            </div>
                        </div>

						</form>
					</div>


					<!--支出-->
					<div id="menu2" class="tab-pane fade">
						<form class="" method="post" action="/addOutcomeRecordOfUser.action">
							<div class="col-md-6">
								<br/>
								<div class="input-group input-group-md form-group">
									<span class="input-group-addon" id="outvalue">收入金额</span>
									<input type="number" class="form-control" name="inValue" placeholder="请在这里填入金额" aria-describedby="sizing-addon1"  step="0.01"  required>
								</div>
								<br/>
								<div class="input-group date form_date col-md-12" data-date-format="yyyy-mm-dd" data-link-field="dtp_input1">
									<span class="input-group-addon">收入时间</span>
									<input class="form-control" size="16" type="text" name="inTime" value="" placeholder="请在这里填入时间: 2018-01-04" required>
									<span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
									<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
								</div>
								<br/>
								<br/>
								<div class="input-group input-group-md form-group">
									<span class="input-group-addon">收入类型</span>
									<!--<input type="number"  name="inType" class="form-control" aria-describedby="sizing-addon1" placeholder="在这里输入类型">-->
									<select name="inType" class="form-control">
		                                <option value=5>学习</option>
		                                <option value=4>生活</option>
		                                <option value=3>娱乐</option>
		                                <option value=2>网购</option>
		                                <option value=1>电子</option>
	    	                        </select>
								</div>
								<br/>
								<div class="input-group input-group-md form-group">
									<span class="input-group-addon">内容备注</span>
									<input type="text" class="form-control" aria-describedby="sizing-addon1" placeholder="请在这里填入内容备注（可选）" name="inOther">
								</div>
								<br/>
								<div class="form-group">
									<div class="row">
										<div class="col-xs-6 col-md-3 col-md-offset-3">
											<button type="submit" class="btn btn-info btn-lg">添加</button>
										</div>
										<div class="col-xs-6 col-md-3 col-md-offset-1">
											<button type="reset" class="btn btn-info btn-lg">重置</button>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
                    <!--end menu 2-->
				</div>
			</div>
		</div>
	</div>
</div>

<!--<script src='../static/bootstrap/js/bootstrap.min.js'></script>-->
<!--<script src="../static/js/jquery.min.js" type="text/javascript"></script>-->
<script src="../static/mainjs/sidebar-menu.js"></script>
<script>
	$.sidebarMenu($('.sidebar-menu'))
</script>

<script type="text/javascript" src="../static/mainjs/bootstrap-datetimepicker.js"></script>
<script type="text/javascript" src="../static/mainjs/bootstrap-datetimepicker.fr.js"></script>
<script src="../static/mainjs/bootstrap-pager.js"></script>

<!-- 时间插件 -->
<script type="text/javascript">
    $('.form_datetime').datetimepicker({
        //language:  'fr',
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		forceParse: 0,
        showMeridian: 1
    });
	$('.form_date').datetimepicker({
        language:  'fr',
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		minView: 2,
		forceParse: 0
    });
	$('.form_time').datetimepicker({
        language:  'fr',
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 1,
		minView: 0,
		maxView: 1,
		forceParse: 0
    });
</script>

</body>
</html>